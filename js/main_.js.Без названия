!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=56)}({"3faB":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),i=n.n(r),o=n("TToO"),a=n("xaOn"),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),c="[DEFAULT]",u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:c})}catch(e){}try{for(var r=Object(o.g)(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var a=Object(o.e)(i.value,2),s=a[0],u=a[1],l=this.normalizeInstanceIdentifier(s);try{var f=this.getOrInitializeService({instanceIdentifier:l});u.resolve(f)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=c),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(o.f)(Object(o.f)([],Object(o.e)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),Object(o.e)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=c),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=c),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:i});try{for(var c=Object(o.g)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=Object(o.e)(u.value,2),f=l[0],p=l[1];a===this.normalizeInstanceIdentifier(f)&&p.resolve(s)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=Object(o.g)(i),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===c?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=c),this.component?this.component.multipleInstances?e:c:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var l,f=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var h,d=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(h||(h={}));var v,b={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},g=h.INFO,y=((l={})[h.DEBUG]="log",l[h.VERBOSE]="log",l[h.INFO]="info",l[h.WARN]="warn",l[h.ERROR]="error",l),m=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=y[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,p(["["+i+"]  "+e.name+":"],n))}},w=function(){function e(e){this.name=e,this._logLevel=g,this._logHandler=m,this._userLogHandler=null,d.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in h))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?b[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,p([this,h.DEBUG],e)),this._logHandler.apply(this,p([this,h.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,p([this,h.VERBOSE],e)),this._logHandler.apply(this,p([this,h.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,p([this,h.INFO],e)),this._logHandler.apply(this,p([this,h.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,p([this,h.WARN],e)),this._logHandler.apply(this,p([this,h.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,p([this,h.ERROR],e)),this._logHandler.apply(this,p([this,h.ERROR],e))},e}();function O(e){d.forEach(function(t){t.setLogLevel(e)})}var j,_=((v={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",v["bad-app-name"]="Illegal App name: '{$appName}",v["duplicate-app"]="Firebase App named '{$appName}' already exists",v["app-deleted"]="Firebase App named '{$appName}' already deleted",v["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",v["invalid-log-argument"]="First argument to `onLog` must be null or a function.",v),k=new a.b("app","Firebase",_),I="@firebase/app",S="0.6.30",E="[DEFAULT]",C=((j={})[I]="fire-core",j["@firebase/analytics"]="fire-analytics",j["@firebase/app-check"]="fire-app-check",j["@firebase/auth"]="fire-auth",j["@firebase/database"]="fire-rtdb",j["@firebase/functions"]="fire-fn",j["@firebase/installations"]="fire-iid",j["@firebase/messaging"]="fire-fcm",j["@firebase/performance"]="fire-perf",j["@firebase/remote-config"]="fire-rc",j["@firebase/storage"]="fire-gcs",j["@firebase/firestore"]="fire-fst",j["fire-js"]="fire-js",j["firebase-wrapper"]="fire-js-all",j),P=new w("@firebase/app"),T=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.f)(e),this.container=new f(t.name),this._addComponent(new s("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t=E),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=E),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){P.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw k.create("app-deleted",{appName:this.name_})},e}();T.prototype.name&&T.prototype.options||T.prototype.delete||console.log("dc");var x="8.10.0";function D(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=E);var c=s.name;if("string"!=typeof c||!c)throw k.create("bad-app-name",{appName:String(c)});if(Object(a.d)(t,c))throw k.create("duplicate-app",{appName:c});var u=new e(n,s,r);return t[c]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=C[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),c=t.match(/\s|\//);if(a||c){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&c&&u.push("and"),c&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void P.warn(u.join(" "))}o(new s(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:O,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw k.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=b[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(function(e){return e}).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:h[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=d;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:x,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(e=e||E,!Object(a.d)(t,e))throw k.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return P.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var c=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw k.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.g)(c,o.serviceProps),r[s]=c,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var u=0,l=Object.keys(t);u<l.length;u++){var f=l[u];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}var N=function e(){var t=D(T);return t.INTERNAL=Object(o.a)(Object(o.a)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.g)(t,e)},createSubscribe:a.e,ErrorFactory:a.b,deepExtend:a.g}),t}(),L=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if(Object(a.h)()&&void 0!==self.firebase){P.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var A=self.firebase.SDK_VERSION;A&&A.indexOf("LITE")>=0&&P.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var R=N.initializeApp;N.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.i)()&&P.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),R.apply(void 0,e)};var M,K,F=N;(M=F).INTERNAL.registerComponent(new s("platform-logger",function(e){return new L(e)},"PRIVATE")),M.registerVersion(I,S,K),M.registerVersion("fire-js","");var z=F;z.registerVersion("firebase","8.10.0","app"),z.SDK_VERSION="8.10.0";var B,H=n("ZC01"),V="@firebase/installations",q="0.4.32",U=1e4,W="w:"+q,G="FIS_v2",$="https://firebaseinstallations.googleapis.com/v1",J=36e5,Y=((B={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',B["not-registered"]="Firebase Installation is not registered.",B["installation-not-found"]="Firebase Installation not found.",B["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',B["app-offline"]="Could not process request. Application offline.",B["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",B),X=new a.b("installations","Installations",Y);function Z(e){return e instanceof a.c&&e.code.includes("request-failed")}function Q(e){var t=e.projectId;return $+"/projects/"+t+"/installations"}function ee(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function te(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,X.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function ne(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function re(e,t){var n=t.refreshToken,r=ne(e);return r.append("Authorization",function(e){return G+" "+e}(n)),r}function ie(e){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}})})}function oe(e){return new Promise(function(t){setTimeout(t,e)})}var ae=/^[cdef][\w-]{21}$/,se="";function ce(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(o.f)([],Object(o.e)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return ae.test(t)?t:se}catch(e){return se}}function ue(e){return e.appName+"!"+e.appId}var le=new Map;function fe(e,t){var n=ue(e);pe(n,t),function(e,t){var n=de();n&&n.postMessage({key:e,fid:t});ve()}(n,t)}function pe(e,t){var n,r,i=le.get(e);if(i)try{for(var a=Object(o.g)(i),s=a.next();!s.done;s=a.next()){(0,s.value)(t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var he=null;function de(){return!he&&"BroadcastChannel"in self&&((he=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){pe(e.data.key,e.data.fid)}),he}function ve(){0===le.size&&he&&(he.close(),he=null)}var be,ge,ye="firebase-installations-database",me=1,we="firebase-installations-store",Oe=null;function je(){return Oe||(Oe=Object(H.openDb)(ye,me,function(e){switch(e.oldVersion){case 0:e.createObjectStore(we)}})),Oe}function _e(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a,s;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=ue(e),[4,je()];case 1:return r=o.sent(),i=r.transaction(we,"readwrite"),[4,(a=i.objectStore(we)).get(n)];case 2:return s=o.sent(),[4,a.put(t,n)];case 3:return o.sent(),[4,i.complete];case 4:return o.sent(),s&&s.fid===t.fid||fe(e,t.fid),[2,t]}})})}function ke(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return t=ue(e),[4,je()];case 1:return n=i.sent(),[4,(r=n.transaction(we,"readwrite")).objectStore(we).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Ie(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a,s,c;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=ue(e),[4,je()];case 1:return r=o.sent(),i=r.transaction(we,"readwrite"),[4,(a=i.objectStore(we)).get(n)];case 2:return s=o.sent(),void 0!==(c=t(s))?[3,4]:[4,a.delete(n)];case 3:return o.sent(),[3,6];case 4:return[4,a.put(c,n)];case 5:o.sent(),o.label=6;case 6:return[4,i.complete];case 7:return o.sent(),!c||s&&s.fid===c.fid||fe(e,c.fid),[2,c]}})})}function Se(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return[4,Ie(e,function(n){var r=function(e){return Ce(e||{fid:ce(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(X.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(e,t){var n=t.fid;return Object(o.b)(this,void 0,void 0,function(){var t,r,i,a,s,c;return Object(o.d)(this,function(o){switch(o.label){case 0:return t=Q(e),r=ne(e),i={fid:n,authVersion:G,appId:e.appId,sdkVersion:W},a={method:"POST",headers:r,body:JSON.stringify(i)},[4,ie(function(){return fetch(t,a)})];case 1:return(s=o.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,{fid:(c=o.sent()).fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:ee(c.authToken)}];case 3:return[4,te("Create Installation",s)];case 4:throw o.sent()}})})}(e,t)];case 1:return n=i.sent(),[2,_e(e,n)];case 2:return Z(r=i.sent())&&409===r.customData.serverCode?[4,ke(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,_e(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,Ee(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,oe(100)];case 3:return o.sent(),[4,Ee(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Se(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}})})}(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry})];case 1:return(n=i.sent()).fid!==se?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function Ee(e){return Ie(e,function(e){if(!e)throw X.create("installation-not-found");return Ce(e)})}function Ce(e){return 1===(t=e).registrationStatus&&t.registrationTime+U<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Pe(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(o.b)(this,void 0,void 0,function(){var e,i,a,s,c,u,l;return Object(o.d)(this,function(o){switch(o.label){case 0:return e=function(e,t){var n=t.fid;return Q(e)+"/"+n+"/authTokens:generate"}(n,t),i=re(n,t),(a=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",a.getPlatformInfoString()),s={installation:{sdkVersion:W}},c={method:"POST",headers:i,body:JSON.stringify(s)},[4,ie(function(){return fetch(e,c)})];case 1:return(u=o.sent()).ok?[4,u.json()]:[3,3];case 2:return l=o.sent(),[2,ee(l)];case 3:return[4,te("Generate Auth Token",u)];case 4:throw o.sent()}})})}function Te(e,t){return void 0===t&&(t=!1),Object(o.b)(this,void 0,void 0,function(){var n,r,i;return Object(o.d)(this,function(a){switch(a.label){case 0:return[4,Ie(e.appConfig,function(r){if(!De(r))throw X.create("not-registered");var i,a=r.authToken;if(t||2!==(i=a).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+J}(i)){if(1===a.requestStatus)return n=function(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return[4,xe(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,oe(100)];case 3:return i.sent(),[4,xe(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Te(e,t)]:[2,r]}})})}(e,t),r;if(!navigator.onLine)throw X.create("app-offline");var s=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(o.a)(Object(o.a)({},e),{authToken:t})}(r);return n=function(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i;return Object(o.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,Pe(e,t)];case 1:return n=a.sent(),i=Object(o.a)(Object(o.a)({},t),{authToken:n}),[4,_e(e.appConfig,i)];case 2:return a.sent(),[2,n];case 3:return!Z(r=a.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ke(e.appConfig)];case 4:return a.sent(),[3,7];case 5:return i=Object(o.a)(Object(o.a)({},t),{authToken:{requestStatus:0}}),[4,_e(e.appConfig,i)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}})})}(e,s),s}return r})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return i=a.sent(),[3,4];case 3:i=r.authToken,a.label=4;case 4:return[2,i]}})})}function xe(e){return Ie(e,function(e){if(!De(e))throw X.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+U<Date.now()?Object(o.a)(Object(o.a)({},e),{authToken:{requestStatus:0}}):e})}function De(e){return void 0!==e&&2===e.registrationStatus}function Ne(e,t){return void 0===t&&(t=!1),Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,function(e){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.d)(this,function(n){switch(n.label){case 0:return[4,Se(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}(e.appConfig)];case 1:return n.sent(),[4,Te(e,t)];case 2:return[2,n.sent().token]}})})}function Le(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=function(e,t){var n=t.fid;return Q(e)+"/"+n}(e,t),r=re(e,t),i={method:"DELETE",headers:r},[4,ie(function(){return fetch(n,i)})];case 1:return(a=o.sent()).ok?[3,3]:[4,te("Delete Installation",a)];case 2:throw o.sent();case 3:return[2]}})})}function Ae(e,t){var n=e.appConfig;return function(e,t){de();var n=ue(e),r=le.get(n);r||(r=new Set,le.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=ue(e),r=le.get(n);r&&(r.delete(t),0===r.size&&le.delete(n),ve())}(n,t)}}function Re(e){return X.create("missing-app-config-values",{valueName:e})}(be=z).INTERNAL.registerComponent(new s("installations",function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw Re("App Configuration");if(!e.name)throw Re("App Name");try{for(var r=Object(o.g)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var a=i.value;if(!e.options[a])throw Re(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return[4,Se(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Te(e).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(e){return Ne(n,e)},delete:function(){return function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n;return Object(o.d)(this,function(r){switch(r.label){case 0:return[4,Ie(t=e.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw X.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw X.create("app-offline");case 3:return[4,Le(t,n)];case 4:return r.sent(),[4,ke(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(e){return Ae(n,e)}}},"PUBLIC")),be.registerVersion(V,q);var Me,Ke=((ge={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ge["only-available-in-window"]="This method is available in a Window context.",ge["only-available-in-sw"]="This method is available in a service worker context.",ge["permission-default"]="The notification permission was not granted and dismissed instead.",ge["permission-blocked"]="The notification permission was not granted and blocked instead.",ge["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ge["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ge["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",ge["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ge["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",ge["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",ge["token-update-no-token"]="FCM returned no token when updating the user to push.",ge["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ge["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ge["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ge["invalid-vapid-key"]="The public VAPID key must be a string.",ge["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ge),Fe=new a.b("messaging","Messaging",Ke),ze="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Be="https://fcmregistrations.googleapis.com/v1",He="FCM_MSG",Ve="google.c.a.c_id";function qe(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(o.f)([],Object(o.e)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Me||(Me={}));var Ue="fcm_token_details_db",We=5,Ge="fcm_token_object_Store";var $e="firebase-messaging-database",Je=1,Ye="firebase-messaging-store",Xe=null;function Ze(){return Xe||(Xe=Object(H.openDb)($e,Je,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ye)}})),Xe}function Qe(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return t=tt(e),[4,Ze()];case 1:return[4,i.sent().transaction(Ye).objectStore(Ye).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n=this;return Object(o.d)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(e){return e.name}).includes(Ue))return[2,null];r.label=2;case 2:return t=null,[4,Object(H.openDb)(Ue,We,function(r){return Object(o.b)(n,void 0,void 0,function(){var n,i,a,s;return Object(o.d)(this,function(o){switch(o.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(Ge)?[4,(n=r.transaction.objectStore(Ge)).index("fcmSenderId").get(e)]:[2];case 1:return i=o.sent(),[4,n.clear()];case 2:if(o.sent(),!i)return[2];if(2===r.oldVersion){if(!(a=i).auth||!a.p256dh||!a.endpoint)return[2];t={token:a.fcmToken,createTime:null!==(s=a.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"==typeof a.vapidKey?a.vapidKey:qe(a.vapidKey)}}}else 3===r.oldVersion?t={token:(a=i).fcmToken,createTime:a.createTime,subscriptionOptions:{auth:qe(a.auth),p256dh:qe(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:qe(a.vapidKey)}}:4===r.oldVersion&&(t={token:(a=i).fcmToken,createTime:a.createTime,subscriptionOptions:{auth:qe(a.auth),p256dh:qe(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:qe(a.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,Object(H.deleteDb)(Ue)];case 4:return r.sent(),[4,Object(H.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(H.deleteDb)("undefined")];case 6:return r.sent(),[2,function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null]}})})}(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,et(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function et(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i;return Object(o.d)(this,function(o){switch(o.label){case 0:return n=tt(e),[4,Ze()];case 1:return r=o.sent(),[4,(i=r.transaction(Ye,"readwrite")).objectStore(Ye).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}})})}function tt(e){return e.appConfig.appId}function nt(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a,s;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,it(e)];case 1:n=o.sent(),r={method:"DELETE",headers:n},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(rt(e.appConfig)+"/"+t,r)];case 3:return[4,o.sent().json()];case 4:if((i=o.sent()).error)throw a=i.error.message,Fe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw s=o.sent(),Fe.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}})})}function rt(e){var t=e.projectId;return Be+"/projects/"+t+"/registrations"}function it(e){var t=e.appConfig,n=e.installations;return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}})})}function ot(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==ze&&(o.web.applicationPubKey=i),o}var at=6048e5;function st(e,t,n){return Object(o.b)(this,void 0,void 0,function(){var r,i,a,s;return Object(o.d)(this,function(c){switch(c.label){case 0:if("granted"!==Notification.permission)throw Fe.create("permission-blocked");return[4,function(e,t){return Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.d)(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}(t)})]}})})}(t,n)];case 1:return r=c.sent(),[4,Qe(e)];case 2:return i=c.sent(),a={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:qe(r.getKey("auth")),p256dh:qe(r.getKey("p256dh"))},i?[3,3]:[2,ut(e,a)];case 3:if(u=i.subscriptionOptions,f=(l=a).vapidKey===u.vapidKey,p=l.endpoint===u.endpoint,h=l.auth===u.auth,d=l.p256dh===u.p256dh,f&&p&&h&&d)return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,nt(e,i.token)];case 5:return c.sent(),[3,7];case 6:return s=c.sent(),console.warn(s),[3,7];case 7:return[2,ut(e,a)];case 8:return Date.now()>=i.createTime+at?[2,function(e,t,n){return Object(o.b)(this,void 0,void 0,function(){var r,i,a;return Object(o.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,function(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a,s,c;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,it(e)];case 1:n=o.sent(),r=ot(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(rt(e.appConfig)+"/"+t.token,i)];case 3:return[4,o.sent().json()];case 4:return a=o.sent(),[3,6];case 5:throw s=o.sent(),Fe.create("token-update-failed",{errorInfo:s});case 6:if(a.error)throw c=a.error.message,Fe.create("token-update-failed",{errorInfo:c});if(!a.token)throw Fe.create("token-update-no-token");return[2,a.token]}})})}(t,e)];case 1:return r=s.sent(),i=Object(o.a)(Object(o.a)({},e),{token:r,createTime:Date.now()}),[4,et(t,i)];case 2:return s.sent(),[2,r];case 3:return a=s.sent(),[4,ct(t,n)];case 4:throw s.sent(),a;case 5:return[2]}})})}({token:i.token,createTime:Date.now(),subscriptionOptions:a},e,t)]:[2,i.token];case 9:return[2]}var u,l,f,p,h,d})})}function ct(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return[4,Qe(e)];case 1:return(n=i.sent())?[4,nt(e,n.token)]:[3,4];case 2:return i.sent(),[4,function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return t=tt(e),[4,Ze()];case 1:return n=i.sent(),[4,(r=n.transaction(Ye,"readwrite")).objectStore(Ye).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function ut(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r;return Object(o.d)(this,function(i){switch(i.label){case 0:return[4,function(e,t){return Object(o.b)(this,void 0,void 0,function(){var n,r,i,a,s,c;return Object(o.d)(this,function(o){switch(o.label){case 0:return[4,it(e)];case 1:n=o.sent(),r=ot(t),i={method:"POST",headers:n,body:JSON.stringify(r)},o.label=2;case 2:return o.trys.push([2,5,,6]),[4,fetch(rt(e.appConfig),i)];case 3:return[4,o.sent().json()];case 4:return a=o.sent(),[3,6];case 5:throw s=o.sent(),Fe.create("token-subscribe-failed",{errorInfo:s});case 6:if(a.error)throw c=a.error.message,Fe.create("token-subscribe-failed",{errorInfo:c});if(!a.token)throw Fe.create("token-subscribe-no-token");return[2,a.token]}})})}(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,et(e,r)];case 2:return i.sent(),[2,r.token]}})})}function lt(e){return"object"==typeof e&&!!e&&Ve in e}function ft(e){return new Promise(function(t){setTimeout(t,e)})}var pt=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(e){e.waitUntil(t.onPush(e))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(t.onSubChange(e))}),self.addEventListener("notificationclick",function(e){e.waitUntil(t.onNotificationClick(e))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw Fe.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.d)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Qe(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ze,r.label=2;case 2:return[2,st(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return ct(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Fe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Fe.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Fe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Fe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Fe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Fe.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r,i;return Object(o.d)(this,function(a){switch(a.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,ht()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(n=a.sent())?[2,function(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Me.PUSH_RECEIVED;try{for(var i=Object(o.g)(e),a=i.next();!a.done;a=i.next()){var s=a.value;s.postMessage(t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(n,t)]:(r=!1,t.notification?[4,function(e){var t,n=e.actions,r=Notification.maxActions;n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed.");return self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}(function(e){var t,n=Object(o.a)({},e.notification);return n.data=((t={})[He]=e,t),n}(t))]:[3,3]);case 2:a.sent(),r=!0,a.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,ft(1e3)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(e){var t,n;return Object(o.b)(this,void 0,void 0,function(){var r;return Object(o.d)(this,function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,ct(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Qe(this.firebaseDependencies)];case 3:return r=i.sent(),[4,ct(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,st(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ze)];case 5:return i.sent(),[2]}})})},e.prototype.onNotificationClick=function(e){var t,n;return Object(o.b)(this,void 0,void 0,function(){var r,i,a,s,c;return Object(o.d)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[He])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return lt(e.data)?self.location.origin:null}(r))?(a=new URL(i,self.location.href),s=new URL(self.location.origin),a.host!==s.host?[2]:[4,function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n,r,i,a,s,c;return Object(o.d)(this,function(u){switch(u.label){case 0:return[4,ht()];case 1:t=u.sent();try{for(n=Object(o.g)(t),r=n.next();!r.done;r=n.next())if(i=r.value,a=new URL(i.url,self.location.href),e.host===a.host)return[2,i]}catch(e){s={error:e}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}(a)]):[2]):[2];case 1:return(c=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return c=u.sent(),[4,ft(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=u.sent(),u.label=6;case 6:return c?(r.messageType=Me.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,c.postMessage(r)]):[2]}})})},e}();function ht(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var dt=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(e){return t.messageEventListener(e)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(o.b)(this,void 0,void 0,function(){var t,n;return Object(o.d)(this,function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Me.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),lt(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Fe.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,st(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ze),[2]})})},e.prototype.updateSwReg=function(e){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Fe.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},e.prototype.registerDefaultSw=function(){return Object(o.b)(this,void 0,void 0,function(){var e,t;return Object(o.d)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=n.sent(),Fe.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.d)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,ct(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.d)(this,function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Fe.create("permission-blocked"):Fe.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Fe.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Fe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Fe.create("invalid-sw-registration");if(this.swRegistration)throw Fe.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Fe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Fe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.d)(this,function(r){switch(r.label){case 0:return n=function(e){switch(e){case Me.NOTIFICATION_CLICKED:return"notification_open";case Me.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[Ve],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function vt(e){return Fe.create("missing-app-config-values",{valueName:e})}var bt={isSupported:gt};function gt(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}z.INTERNAL.registerComponent(new s("messaging",function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw vt("App Configuration Object");if(!e.name)throw vt("App Name");var r=e.options;try{for(var i=Object(o.g)(["projectId","apiKey","appId","messagingSenderId"]),a=i.next();!a.done;a=i.next()){var s=a.value;if(!r[s])throw vt(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!gt())throw Fe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new pt(n):new dt(n)},"PUBLIC").setServiceProps(bt));var yt,mt="8",wt={ru:{text:"         .",no:" ",yes:"!"},kk:{text:"      ?",no:" ",yes:"!"},en:{text:"You would like to be notified of the latest news and events.",no:"Not now",yes:"Yes!"}};function Ot(e){window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(t){!function(){var e=localStorage.getItem("tn_push_token");if(e){var t={token:e};localStorage.removeItem("tn_push_token");var n=new XMLHttpRequest;n.open("POST","https://push.tn.kz/api/unsubscribe/token",!0),n.setRequestHeader("Content-Type","application/json"),n.addEventListener("load",function(e){}),n.send(JSON.stringify(t))}}();var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.unregister().then(function(e){})}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}e&&e(localStorage.getItem("tn_push_token"))})}function jt(e){var t={analytics_id:localStorage.tn_analiticsUID,token:e.token,host:location.origin};localStorage.setItem("tn_push_token",e.token);var n=new XMLHttpRequest;n.open("POST","https://push.tn.kz/api/subscribe/token",!0),n.setRequestHeader("Content-Type","application/json"),n.addEventListener("load",function(e){localStorage.setItem("push_version",mt)}),n.send(JSON.stringify(t))}window.enableNotifications=(yt=i.a.mark(function e(){var t,n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={apiKey:"AIzaSyB1tkvVurvrDw0lU31i0rZunqlCbb3xUfw",authDomain:"tengrinewskz-1377.firebaseapp.com",databaseURL:"https://tengrinewskz-1377.firebaseio.com",projectId:"tengrinewskz-1377",storageBucket:"tengrinewskz-1377.appspot.com",messagingSenderId:"804008632080",appId:"1:804008632080:web:999aff932667f14aac0f95",measurementId:"G-YEL3ZFDZPQ"},n=z.initializeApp(t),r=n.messaging(),e.next=5,Notification.requestPermission();case 5:return"granted"!==e.sent&&console.log("user denied notifications"),e.next=9,r.getToken();case 9:o=e.sent,localStorage.setItem("tn_push_token",o),jt({token:o});case 12:case"end":return e.stop()}},e,this)}),function(){var e=yt.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}),"serviceWorker"in navigator&&"PushManager"in window?function(){if(window.PushSB=function(){localStorage.getItem("tn_push_token")?Ot():window.enableNotifications()},"default"===Notification.permission&&!localStorage.getItem("tn_push_token")&&localStorage.getItem("push_show_modal")-Date.now()<0){var e=wt[document.documentElement.lang]||{};localStorage.removeItem("push_update");var t=document.createElement("DIV"),n=document.createElement("LINK");n.rel="stylesheet",n.href="/css/push.css",t.innerHTML='\n                    <div class="push-form-container">\n                        <div class="push-form">\n                            <div class="push-form-grid">\n                                <div class="push-form-icon">\n                                    <img alt="notification icon" src="/static/img/logo_tn_box.png">\n                                </div>\n                                <div class="push-form-description">'+e.text+'</div>\n                                <div class="push-form-action">\n                                    <button class="push-button-reject">'+e.no+'</button>\n                                    <button class="push-button-success">'+e.yes+"</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>",document.head.append(n),document.body.append(t),setTimeout(function(){var e=document.querySelector(".push-form-container"),t=e.querySelector(".push-button-success"),n=e.querySelector(".push-button-reject");t.addEventListener("click",function(){window.PushSB(),e.classList.remove("active")}),n.addEventListener("click",function(){e.classList.remove("active"),localStorage.setItem("push_show_modal",Date.now()+864e5)}),e.classList.add("active")},1e4)}"denied"===Notification.permission&&localStorage.getItem("push_update")-Date.now()<0&&(Ot(),localStorage.setItem("push_update",Date.now()+6e5)),"granted"===Notification.permission&&(localStorage.getItem("push_version")!==mt&&(localStorage.removeItem("push_update"),localStorage.removeItem("push_show_modal"),Ot(function(){console.log("push resubscribe"),localStorage.clear(),localStorage.setItem("push_show_modal",Date.now()+864e5),window.enableNotifications(),localStorage.setItem("push_version",mt)})),localStorage.getItem("push_update")-Date.now()<0&&(window.enableNotifications(),localStorage.setItem("push_update",Date.now()+6e4)))}():console.warn("Push messaging is not supported")},56:function(e,t,n){e.exports=n("3faB")},DuR2:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},SldL:function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=w;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={},b={};b[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(x([])));y&&y!==r&&i.call(y,a)&&(b=y);var m=k.prototype=j.prototype=Object.create(b);_.prototype=m.constructor=k,k.constructor=_,k[c]=_.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(m),e},l.awrap=function(e){return{__await:e}},I(S.prototype),S.prototype[s]=function(){return this},l.AsyncIterator=S,l.async=function(e,t,n,r){var i=new S(w(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(m),m[c]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,n,r){var i=t&&t.prototype instanceof j?t:j,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=O(e,t,n);if("normal"===c.type){if(r=n.done?d:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function O(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function j(){}function _(){}function k(){}function I(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=O(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){c.value=e,o(c)},a)}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function E(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,E(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=O(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:D}}function D(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},TToO:function(e,t,n){"use strict";t.c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n.d(t,"a",function(){return i}),t.b=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},t.d=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},t.g=o,t.e=a,t.f=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create},Xxa5:function(e,t,n){e.exports=n("jyFz")},ZC01:function(e,t,n){(function(e){"use strict";function t(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(e,n,r){var i,o=new Promise(function(o,a){t(i=e[n].apply(e,r)).then(o,a)});return o.request=i,o}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function i(e,t,r,i){i.forEach(function(i){i in r.prototype&&(e.prototype[i]=function(){return n(this[t],i,arguments)})})}function o(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function a(e,t,r,i){i.forEach(function(i){i in r.prototype&&(e.prototype[i]=function(){return e=this[t],(r=n(e,i,arguments)).then(function(e){if(e)return new c(e,r.request)});var e,r})})}function s(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function u(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new l(n)}function p(e){this._db=e}r(s,"_index",["name","keyPath","multiEntry","unique"]),i(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(c,"_cursor",["direction","key","primaryKey","value"]),i(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[e].apply(n._cursor,r),t(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),u.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},u.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(u,"_store",["name","keyPath","indexNames","autoIncrement"]),i(u,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(u,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(u,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new u(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),o(l,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new u(this._db.createObjectStore.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),o(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(p,"_db",["name","version","objectStoreNames"]),o(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[u,s].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[s,u].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,r){var i=n(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){r&&r(new f(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return n(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})})(t)},jyFz:function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n("SldL"),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},xaOn:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return c});var r=n("TToO"),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};function o(e){return a(void 0,e)}function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}var s=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function c(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function u(){return"object"==typeof self&&self.self===self}var l="FirebaseError",f=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=l,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,p.prototype.create),o}return Object(r.c)(t,e),t}(Error),p=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(h,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new f(i,s,r)},e}();var h=/\{\$([^}]+)}/g;function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),a=1518500249):(o=c^u^l,a=1859775393):r<60?(o=c&u|l&(c|u),a=2400959708):(o=c^u^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function v(e,t){var n=new b(e,t);return n.subscribe.bind(n)}var b=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=g),void 0===r.error&&(r.error=g),void 0===r.complete&&(r.complete=g);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function g(){}}).call(t,n("DuR2"))}});